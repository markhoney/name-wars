import{Y as F}from"./Years.js";import{_ as k,r as o,o as _,c as h,w as e,b as w,t as u,a as t,e as x,F as N,f as j,d as V,g as C}from"./index.js";const T={components:{Years:F},data(){return{year:2024,top:10}},computed:{names(){return this.$names.top(this.year).slice(0,this.top)}}};function Y(p,n,d,y,s,f){const a=o("b-badge"),i=o("b-list-group-item"),b=o("b-list-group"),c=o("years"),r=o("b-form-group"),m=o("b-col"),g=o("b-form-select"),v=o("b-row"),U=o("b-card");return _(),h(U,{"no-body":""},{header:e(()=>[w("h2",null,"Top "+u(s.top)+" names for "+u(s.year),1)]),footer:e(()=>[t(v,null,{default:e(()=>[t(m,{sm:"6"},{default:e(()=>[t(r,{label:"Year","label-for":"year"},{default:e(()=>[t(c,{id:"year",modelValue:s.year,"onUpdate:modelValue":n[0]||(n[0]=l=>s.year=l),start:1900,end:2024},null,8,["modelValue"])]),_:1})]),_:1}),t(m,{sm:"6"},{default:e(()=>[t(r,{label:"Number of Results","label-for":"top"},{default:e(()=>[t(g,{id:"top",modelValue:s.top,"onUpdate:modelValue":n[1]||(n[1]=l=>s.top=l),options:[10,25,50,100]},null,8,["modelValue"])]),_:1})]),_:1})]),_:1})]),default:e(()=>[f.names?(_(),h(b,{key:0,flush:""},{default:e(()=>[(_(!0),x(N,null,j(f.names,(l,M)=>(_(),h(i,{key:l.name,class:"d-flex justify-content-between align-items-center"},{default:e(()=>[V(u(M+1)+". "+u(l.name)+" ",1),t(a,{pill:""},{default:e(()=>[V(u(l.number),1)]),_:2},1024)]),_:2},1024))),128))]),_:1})):C("",!0)]),_:1})}const B=k(T,[["render",Y]]),$={data(){return{top:10}},computed:{names(){return this.$names.overall.slice(0,this.top)}}};function O(p,n,d,y,s,f){const a=o("b-badge"),i=o("b-list-group-item"),b=o("b-list-group"),c=o("b-form-select"),r=o("b-form-group"),m=o("b-card");return _(),h(m,{"no-body":""},{header:e(()=>[w("h2",null,"Top "+u(s.top)+" names of all time",1)]),footer:e(()=>[t(r,{label:"Number of Results","label-for":"top"},{default:e(()=>[t(c,{id:"top",modelValue:s.top,"onUpdate:modelValue":n[0]||(n[0]=g=>s.top=g),options:[10,25,50,100]},null,8,["modelValue"])]),_:1})]),default:e(()=>[f.names?(_(),h(b,{key:0,flush:""},{default:e(()=>[(_(!0),x(N,null,j(f.names,(g,v)=>(_(),h(i,{key:g.name,class:"d-flex justify-content-between align-items-center"},{default:e(()=>[V(u(v+1)+". "+u(g.name)+" ",1),t(a,{pill:""},{default:e(()=>[V(u(g.number),1)]),_:2},1024)]),_:2},1024))),128))]),_:1})):C("",!0)]),_:1})}const L=k($,[["render",O]]),R={components:{Years:F},data(){return{first:1900,last:2024,average:1,top:10}},computed:{years(){return this.$names.years(this.first,this.last)},spikes(){return Object.entries(this.$names.names).reduce((p,[n,d])=>(p[n]=this.years.slice(this.average).reduce((y,s)=>{var i,b,c,r;const f=this.$names.years(s-this.average+1,s).reverse();let a=0;for(const m of f)a+=(((i=d[m])==null?void 0:i.M)||0)+(((b=d[m])==null?void 0:b.F)||0)-(((c=d[m-1])==null?void 0:c.M)||0)-(((r=d[m-1])==null?void 0:r.F)||0);return y[s]=Math.floor(a/this.average),y},{}),p),{})},largest(){return Object.entries(this.spikes).map(([p,n])=>Object.entries(n).map(([d,y])=>({name:p,year:d,diff:y}))).flat().sort((p,n)=>Math.abs(n.diff)-Math.abs(p.diff)).slice(0,this.top)}}};function S(p,n,d,y,s,f){const a=o("b-badge"),i=o("b-list-group-item"),b=o("b-list-group"),c=o("years"),r=o("b-form-group"),m=o("b-col"),g=o("b-form-select"),v=o("b-row"),U=o("b-card");return _(),h(U,{"no-body":""},{header:e(()=>[w("h2",null,u(s.top)+" largest changes",1)]),footer:e(()=>[t(v,null,{default:e(()=>[t(m,{sm:"6"},{default:e(()=>[t(r,{label:"First Year","label-for":"first"},{default:e(()=>[t(c,{id:"first",modelValue:s.first,"onUpdate:modelValue":n[0]||(n[0]=l=>s.first=l)},null,8,["modelValue"])]),_:1}),t(r,{label:"Last Year","label-for":"last"},{default:e(()=>[t(c,{id:"last",modelValue:s.last,"onUpdate:modelValue":n[1]||(n[1]=l=>s.last=l)},null,8,["modelValue"])]),_:1})]),_:1}),t(m,{sm:"6"},{default:e(()=>[t(r,{label:"Number of results","label-for":"top"},{default:e(()=>[t(g,{id:"top",modelValue:s.top,"onUpdate:modelValue":n[2]||(n[2]=l=>s.top=l),options:[10,25,50,100]},null,8,["modelValue"])]),_:1}),t(r,{label:"Average over years","label-for":"average"},{default:e(()=>[t(g,{id:"average",modelValue:s.average,"onUpdate:modelValue":n[3]||(n[3]=l=>s.average=l),options:[1,2,3,4,5]},null,8,["modelValue"])]),_:1})]),_:1})]),_:1})]),default:e(()=>[t(b,{flush:""},{default:e(()=>[(_(!0),x(N,null,j(f.largest,l=>(_(),h(i,{key:l.name+l.year,variant:l.diff>0?"success":"danger",class:"d-flex justify-content-between align-items-center"},{default:e(()=>[V(u(l.name)+" ("+u(l.year)+") ",1),t(a,{variant:l.diff>0?"success":"danger",pill:""},{default:e(()=>[l.diff>0?(_(),x(N,{key:0},[V("+")],64)):C("",!0),V(u(l.diff),1)]),_:2},1032,["variant"])]),_:2},1032,["variant"]))),128))]),_:1})]),_:1})}const A=k(R,[["render",S]]),D={components:{Top:B,Totals:L,Spikes:A}};function E(p,n,d,y,s,f){const a=o("b-col"),i=o("top"),b=o("totals"),c=o("spikes"),r=o("b-row");return _(),h(r,null,{default:e(()=>[t(a,{cols:"12",class:"mb-5"},{default:e(()=>n[0]||(n[0]=[w("h2",null,"Charts",-1),w("p",null,"Here are some charts showing the most popular names in New Zealand, and names that have seen sharp increases or decreases in usage.",-1)])),_:1}),t(a,{sm:"6",lg:"4"},{default:e(()=>[t(i)]),_:1}),t(a,{sm:"6",lg:"4"},{default:e(()=>[t(b)]),_:1}),t(a,{sm:"6",lg:"4"},{default:e(()=>[t(c)]),_:1})]),_:1})}const q=k(D,[["render",E]]);export{q as default};
