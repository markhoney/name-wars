import{Y as U}from"./Years.js";import{_ as j,r as n,o as f,d as y,w as t,b as F,t as u,a as o,c as x,e as M,f as V,F as N,g as Y}from"./index.js";const T={components:{Years:U},data(){return{year:2021,top:10}},computed:{names(){return this.$names.top(this.year,this.top)}}};function k(_,l,m,c,r,i){const p=n("b-badge"),b=n("b-list-group-item"),g=n("b-list-group"),d=n("years"),s=n("b-form-group"),a=n("b-col"),v=n("b-form-select"),h=n("b-row"),w=n("b-card");return f(),y(w,{"no-body":""},{header:t(()=>[F("h2",null,"Top "+u(r.top)+" names for "+u(r.year),1)]),footer:t(()=>[o(h,null,{default:t(()=>[o(a,{sm:"6"},{default:t(()=>[o(s,{label:"Year","label-for":"year"},{default:t(()=>[o(d,{id:"year",modelValue:r.year,"onUpdate:modelValue":l[0]||(l[0]=e=>r.year=e),start:1900,end:2021},null,8,["modelValue"])]),_:1})]),_:1}),o(a,{sm:"6"},{default:t(()=>[o(s,{label:"Number of Results","label-for":"top"},{default:t(()=>[o(v,{id:"top",modelValue:r.top,"onUpdate:modelValue":l[1]||(l[1]=e=>r.top=e),options:[10,25,50,100]},null,8,["modelValue"])]),_:1})]),_:1})]),_:1})]),default:t(()=>[i.names?(f(),y(g,{key:0,flush:""},{default:t(()=>[(f(!0),x(N,null,M(i.names,(e,B)=>(f(),y(b,{key:e.name,class:"d-flex justify-content-between align-items-center"},{default:t(()=>[V(u(B+1)+". "+u(e.name)+" ",1),o(p,{pill:""},{default:t(()=>[V(u(e.number),1)]),_:2},1024)]),_:2},1024))),128))]),_:1})):Y("",!0)]),_:1})}var D=j(T,[["render",k]]);const C={components:{Years:U},data(){return{first:1900,last:2021,average:1,top:10}},computed:{years(){return this.$names.years(this.first,this.last)},spikes(){return Object.entries(this.$names.names).reduce((_,[l,m])=>(_[l]=this.years.slice(this.average).reduce((c,r)=>{var b,g,d,s;const i=this.$names.years(r-this.average+1,r).reverse();let p=0;for(const a of i)p+=(((b=m[a])==null?void 0:b.M)||0)+(((g=m[a])==null?void 0:g.F)||0)-(((d=m[a-1])==null?void 0:d.M)||0)-(((s=m[a-1])==null?void 0:s.F)||0);return c[r]=Math.floor(p/this.average),c},{}),_),{})},largest(){return Object.entries(this.spikes).map(([_,l])=>Object.entries(l).map(([m,c])=>({name:_,year:m,diff:c}))).flat().sort((_,l)=>Math.abs(l.diff)-Math.abs(_.diff)).slice(0,this.top)}}},O=V("+");function S(_,l,m,c,r,i){const p=n("b-badge"),b=n("b-list-group-item"),g=n("b-list-group"),d=n("years"),s=n("b-form-group"),a=n("b-col"),v=n("b-form-select"),h=n("b-row"),w=n("b-card");return f(),y(w,{"no-body":""},{header:t(()=>[F("h2",null,u(r.top)+" largest changes",1)]),footer:t(()=>[o(h,null,{default:t(()=>[o(a,{sm:"6"},{default:t(()=>[o(s,{label:"First Year","label-for":"first"},{default:t(()=>[o(d,{id:"first",modelValue:r.first,"onUpdate:modelValue":l[0]||(l[0]=e=>r.first=e)},null,8,["modelValue"])]),_:1}),o(s,{label:"Last Year","label-for":"last"},{default:t(()=>[o(d,{id:"last",modelValue:r.last,"onUpdate:modelValue":l[1]||(l[1]=e=>r.last=e)},null,8,["modelValue"])]),_:1})]),_:1}),o(a,{sm:"6"},{default:t(()=>[o(s,{label:"Number of results","label-for":"top"},{default:t(()=>[o(v,{id:"top",modelValue:r.top,"onUpdate:modelValue":l[2]||(l[2]=e=>r.top=e),options:[10,25,50,100]},null,8,["modelValue"])]),_:1}),o(s,{label:"Average over years","label-for":"average"},{default:t(()=>[o(v,{id:"average",modelValue:r.average,"onUpdate:modelValue":l[3]||(l[3]=e=>r.average=e),options:[1,2,3,4,5]},null,8,["modelValue"])]),_:1})]),_:1})]),_:1})]),default:t(()=>[o(g,{flush:""},{default:t(()=>[(f(!0),x(N,null,M(i.largest,e=>(f(),y(b,{key:e.name+e.year,variant:e.diff>0?"success":"danger",class:"d-flex justify-content-between align-items-center"},{default:t(()=>[V(u(e.name)+" ("+u(e.year)+") ",1),o(p,{variant:e.diff>0?"success":"danger",pill:""},{default:t(()=>[e.diff>0?(f(),x(N,{key:0},[O],64)):Y("",!0),V(u(e.diff),1)]),_:2},1032,["variant"])]),_:2},1032,["variant"]))),128))]),_:1})]),_:1})}var E=j(C,[["render",S]]);export{E as S,D as T};
