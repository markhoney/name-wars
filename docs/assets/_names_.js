import{Y as L}from"./Years.js";import{_ as g,r as i,o as p,c as f,w as r,b as n,t as s,a as o,d as m,m as T,e as $,f as j,F as N}from"./index.js";const O={props:{value:{type:String,default:""}},computed:{years(){return this.$names.years()},data(){return this.years.map(t=>({year:t,total:this.$names.total(this.$names.names[this.name][t])}))},name(){return this.value?this.$names.case(this.value):""},seen(){return{first:Object.keys(this.$names.names[this.name])[0],last:Object.keys(this.$names.names[this.name])[Object.keys(this.$names.names[this.name]).length-1]}},number(){const t=this.data.reduce((l,h)=>h.total>l.total?h:l,{year:0,total:0}),e={total:this.data.reduce((l,h)=>l+h.total,0),highest:{year:t.year,number:t.total},first:{year:this.data[0].year,number:this.data[0].total},last:{year:this.data[this.data.length-1].year,number:this.data[this.data.length-1].total}};return e.last>e.previous?e.direction="a rise":e.last<e.previous?e.direction="a fall":e.direction="no change",e},ranking(){const t=this.years[this.years.length-1],e={overall:this.$names.overall.findIndex(l=>l.name===this.name)+1,last:this.$names.top(t).findIndex(l=>l.name===this.name)+1,previous:this.$names.top(t-1).findIndex(l=>l.name===this.name)+1};return e.change=Math.abs(e.last-e.previous),e.last>e.previous?e.direction="a rise":e.last<e.previous?e.direction="a fall":e.direction="no change",e},chartOptions(){return{colors:this.$names.colours,xaxis:{type:"numeric",categories:this.years}}},series(){return[{name:"Popularity",data:this.data}]}}},C={class:"text-center"};function S(t,e,l,h,d,a){const b=i("b-card-text"),c=i("b-card");return p(),f(c,null,{header:r(()=>[n("h2",C,s(a.name),1)]),default:r(()=>[o(b,null,{default:r(()=>[n("p",null,[m(s(a.name)+" was first used as a baby name in ",1),n("strong",null,s(a.seen.first),1),e[0]||(e[0]=m(", and was last used in ")),n("strong",null,s(a.seen.last),1),e[1]||(e[1]=m("."))]),n("p",null,[n("strong",null,s(a.number.total.toLocaleString()),1),m(" babies have been named "+s(a.name)+" since 1900. The highest number of babies named "+s(a.name)+" in a year was a total of ",1),n("strong",null,s(a.number.highest.number.toLocaleString()),1),e[2]||(e[2]=m(", in ")),n("strong",null,s(a.number.highest.year),1),e[3]||(e[3]=m("."))]),n("p",null,[m(s(a.name)+" is the ",1),n("strong",null,s(t.$names.ordinal(a.ranking.overall)),1),e[4]||(e[4]=m(" most popular name overall since 1900 in New Zealand, and the ")),n("strong",null,s(t.$names.ordinal(a.ranking.last)),1),m(" most popular last year. This was "+s(a.ranking.direction)+" from the previous year of ",1),n("strong",null,s(a.ranking.change),1),e[5]||(e[5]=m(" places."))])]),_:1})]),_:1})}const B=g(O,[["render",S]]),F={components:{Years:L,NameFacts:B,VueApexCharts:T},props:{names:{type:String,default:""}},data(){return{first:1900,last:2024,nameText:""}},computed:{years(){return this.$names.years()},data(){return this.names.map(t=>this.years.map(e=>this.$names.total(this.$names.names[t][e])))},chartOptions(){return{colors:this.$names.colours,xaxis:{type:"numeric",categories:this.years}}},series(){return this.nameList.map(t=>({name:t,data:this.years.map(e=>this.$names.total(this.$names.names[t][e]))}))},nameList(){return this.$names.valid(this.nameText.split(/[, ]+/))}},watch:{nameList(){this.$router.push(`/compare/${this.nameList.map(t=>t.toLowerCase()).join(",")}`)}},created(){this.nameText=this.names.split(",").join(" ")}};function Y(t,e,l,h,d,a){const b=i("b-form-input"),c=i("b-form-group"),y=i("years"),x=i("b-card-text"),v=i("b-card"),_=i("b-col"),k=i("vue-apex-charts"),V=i("name-facts"),w=i("b-row");return p(),f(w,null,{default:r(()=>[o(_,{cols:"12"},{default:r(()=>[o(v,null,{header:r(()=>e[3]||(e[3]=[n("h2",null,"Chart options",-1)])),default:r(()=>[o(x,{class:"d-flex justify-content-evenly"},{default:r(()=>[o(c,{label:"Names to compare","label-for":"names"},{default:r(()=>[o(b,{modelValue:d.nameText,"onUpdate:modelValue":e[0]||(e[0]=u=>d.nameText=u),type:"text"},null,8,["modelValue"])]),_:1}),o(c,{label:"First Year","label-for":"first"},{default:r(()=>[o(y,{id:"first",modelValue:d.first,"onUpdate:modelValue":e[1]||(e[1]=u=>d.first=u)},null,8,["modelValue"])]),_:1}),o(c,{label:"Last Year","label-for":"last"},{default:r(()=>[o(y,{id:"last",modelValue:d.last,"onUpdate:modelValue":e[2]||(e[2]=u=>d.last=u)},null,8,["modelValue"])]),_:1})]),_:1})]),_:1})]),_:1}),o(_,{cols:"12"},{default:r(()=>[e[4]||(e[4]=n("h3",null,"Popularity",-1)),(p(),f(k,{type:"line",series:a.series,options:a.chartOptions,key:a.series.length},null,8,["series","options"]))]),_:1}),(p(!0),$(N,null,j(a.nameList,u=>(p(),f(_,{sm:"12",md:"6",lg:"4",key:u},{default:r(()=>[o(V,{value:u},null,8,["value"])]),_:2},1024))),128))]),_:1})}const P=g(F,[["render",Y]]);export{P as default};
